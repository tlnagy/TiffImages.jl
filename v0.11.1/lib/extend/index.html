<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · TiffImages.jl</title><meta name="title" content="Overview · TiffImages.jl"/><meta property="og:title" content="Overview · TiffImages.jl"/><meta property="twitter:title" content="Overview · TiffImages.jl"/><meta name="description" content="Documentation for TiffImages.jl."/><meta property="og:description" content="Documentation for TiffImages.jl."/><meta property="twitter:description" content="Documentation for TiffImages.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><script src="https://analytics.tamasnagy.com/js/script.js" data-domain="tamasnagy.com" defer></script><link href="../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="TiffImages.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TiffImages.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/reading/">Reading TIFFs</a></li><li><a class="tocitem" href="../../examples/writing/">Writing TIFFs</a></li><li><a class="tocitem" href="../../examples/mmap_lazyio/">Lazy TIFFs</a></li></ul></li><li><a class="tocitem" href="../../demos/">Demos</a></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../public/">Public</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox" checked/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Extending</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Overview</a></li><li><a class="tocitem" href="tags/">Built-in Tags</a></li></ul></li></ul></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li><a class="is-disabled">Extending</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/tlnagy/TiffImages.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/tlnagy/TiffImages.jl/blob/master/docs/src/lib/extend/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Extending-TiffImages.jl"><a class="docs-heading-anchor" href="#Extending-TiffImages.jl">Extending TiffImages.jl</a><a id="Extending-TiffImages.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Extending-TiffImages.jl" title="Permalink"></a></h1><p>If you want to extend <code>TiffImages.jl</code> to add support for more features or change how TIFF data is loaded, you have come to right place.</p><h3 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TiffImages.TiffFile" href="#TiffImages.TiffFile"><code>TiffImages.TiffFile</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct TiffFile{O&lt;:Unsigned, S&lt;:FileIO.Stream}</code></pre><p>-&gt; TiffFile</p><p>Wrap <code>io</code> with helper parameters to keep track of file attributes.</p><ul><li><p><code>uuid</code>: A unique identifier for this file</p></li><li><p><code>filepath</code>: The relative path to this file</p></li><li><p><code>io</code>: The file stream</p></li><li><p><code>first_offset</code>: Location of the first IFD in the file stream</p></li><li><p><code>need_bswap</code>: Whether this file has a different endianness than the host computer</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/files.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TiffImages.IFD" href="#TiffImages.IFD"><code>TiffImages.IFD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct IFD{O&lt;:Unsigned}</code></pre><p>An image file directory is a sorted collection of the tags representing this plane in the TIFF file. They behave like dictionaries except that tags aren&#39;t required to be unique, so given an IFD called <code>ifd</code>, we can add new tags as follows:</p><pre><code class="language-julia-repl hljs">julia&gt; ifd[TiffImages.IMAGEDESCRIPTION] = &quot;Some details&quot;;

julia&gt; ifd[TiffImages.IMAGEWIDTH] = 512;

julia&gt; ifd
IFD, with tags:
	Tag(IMAGEWIDTH, 512)
	Tag(IMAGEDESCRIPTION, &quot;Some details&quot;)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Tags are not required to be unique! See <a href="#TiffImages.Iterable"><code>TiffImages.Iterable</code></a> for how to work with duplicate tags.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/ifds.jl#L3-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TiffImages.Tag" href="#TiffImages.Tag"><code>TiffImages.Tag</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Tag{T}</code></pre><p>In-memory representation of Tiff Tags, which are essentially key value pairs. The <code>data</code> field can either be a <code>String</code>, a <code>Number</code>, an Array of bitstypes, or a <a href="#TiffImages.RemoteData"><code>RemoteData</code></a> type.</p><ul><li><p><code>tag</code></p></li><li><p><code>data</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/tags.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TiffImages.Iterable" href="#TiffImages.Iterable"><code>TiffImages.Iterable</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A wrapper to force getindex to return the underlying array instead of only the first element. Usually the first element is sufficient, but sometimes access to the array is needed (to add duplicate entries or access them).</p><pre><code class="language-julia-repl hljs">julia&gt; using TiffImages: Iterable

julia&gt; ifd[TiffImages.IMAGEDESCRIPTION] = &quot;test&quot;
&quot;test&quot;

julia&gt; ifd[Iterable(TiffImages.IMAGEDESCRIPTION)] # since wrapped with Iterable, returns array
1-element Vector{TiffImages.Tag}:
 Tag(IMAGEDESCRIPTION, &quot;test&quot;)

julia&gt; ifd[Iterable(TiffImages.IMAGEDESCRIPTION)] = &quot;test2&quot; # since wrapped with Iterable, it appends
&quot;test2&quot;

julia&gt; ifd
IFD, with tags:
	Tag(IMAGEDESCRIPTION, &quot;test&quot;)
	Tag(IMAGEDESCRIPTION, &quot;test2&quot;)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/ifds.jl#L33-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TiffImages.RemoteData" href="#TiffImages.RemoteData"><code>TiffImages.RemoteData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RemoteData</code></pre><p>A placeholder type to describe the location and properties of remote data that is too large to fit directly in a tag&#39;s spot in the IFD. Calling <a href="#TiffImages.load!"><code>TiffImages.load!</code></a> on an IFD object replaces all <code>RemoteData</code>s with the respective data.</p><ul><li><p><code>position</code>: Position of this data in the stream</p></li><li><p><code>count</code>: The length of the data</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/utils.jl#L1-L9">source</a></section></article><h3 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TiffImages.load!" href="#TiffImages.load!"><code>TiffImages.load!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load!(tf, ifd)
</code></pre><p>Updates an <a href="#TiffImages.IFD"><code>TiffImages.IFD</code></a> by replacing all instances of the placeholder type <a href="#TiffImages.RemoteData"><code>TiffImages.RemoteData</code></a> with the actual data from the file <code>tf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/ifds.jl#L140-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.sizeof" href="#Base.sizeof"><code>Base.sizeof</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sizeof(file)</code></pre><p>Number of bytes that <code>file</code>&#39;s header will use on disk</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/files.jl#L41-L45">source</a></section><section><div><pre><code class="language-julia hljs">sizeof(tag::TiffImages.Tag)</code></pre><p>Minimum number of bytes that the <em>data</em> in <code>tag</code> will use on disk.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Actual space on disk will be different because the tag&#39;s representation depends on the file&#39;s offset. For example, given a 2 bytes of data in <code>tag</code> and a file with <code>UInt32</code> offsets, the actual usage on disk will be <code>sizeof(UInt32)=4</code> for the data + tag overhead</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/tags.jl#L63-L73">source</a></section><section><div><pre><code class="language-julia hljs">sizeof(ifd)</code></pre><p>Number of bytes that an IFD will use on disk.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tlnagy/TiffImages.jl/blob/f4d285b3a7e426afb0a63969701ab38b5c75287f/src/ifds.jl#L108-L112">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../public/">« Public</a><a class="docs-footer-nextpage" href="tags/">Built-in Tags »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Thursday 7 November 2024 05:59">Thursday 7 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
